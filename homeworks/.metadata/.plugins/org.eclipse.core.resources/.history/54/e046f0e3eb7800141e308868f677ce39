package homework5;

public class AsianDownAndOut extends Asian {
	double barrier;
	
	public AsianDownAndOut(double shortRate, double volatility,
			double strikePrice, double initialPrice, int T,
			double[] observationTimes, double barrier) {
		super(shortRate, volatility, strikePrice, initialPrice, T,
				observationTimes);
		this.barrier = barrier;
	}
	
	/**
	 * Computes and returns the discounted option payoff.
	 * WITH THE DOWN AND OUT BARRIER
	 * 
	 * @return payoff of the option
	 */
	public double getPayoff() {
		double average = 0.0; // Average of the GBM process.
		for (int j = 1; j <= T; j++)
			average += Math.exp(logS[j]);
		average /= T;
		if (average > strikePrice)
			return discount * (average - strikePrice);
		else
			return 0.0;
	}

}
